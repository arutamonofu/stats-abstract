---

---

![[lognormal.png]]

# Основные свойства

| Свойство                       | Значение                                                                                                                                                                                         |
| ------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Нотация                        | $X \sim Lognormal(\mu, \sigma^2)$                                                                                                                                                                |
| Параметры                      | $\mu$ — математическое ожидание ГС логарифмированной случайной величины, $\sigma^2$ — дисперсия ГС логарифмированной случайной величины.                                                         |
| Определение случайной величины | Произведение слабо зависимых случайных величин. Экспоненцированная [[Распределение нормальное (Гаусса)\|нормальная]] случайная величина (логарифм логнормальной величины — нормальная величина). |
| Тип исходных данных            | Количественный: дискретный или непрерывный                                                                                                                                                       |
| Тип случайной величины         | Непрерывный количественный                                                                                                                                                                       |
| Тип испытаний                  | Независимый                                                                                                                                                                                      |

> [!info] Пояснение
> Логнормальное распределение — распределение случайной величины $X$, равной экспоненте нормальной величины $Y$:
> 
> $$Y \sim N(\mu, \sigma^2), X = \exp(Y) \implies X \sim Lognormal(\mu, \sigma^2)$$
> 
> И наоборот, нормальное распределение — распределение случайной величины $Y$, равной натуральному логарифму $X$:
> 
> $$X \sim Lognormal(\mu, \sigma^2), Y = \ln(X) \implies Y \sim N(\mu, \sigma^2)$$
> 
> Также логнормальное распределение — распределение случайной величины $X$, равной произведению нормальных величин $Z_{1}, Z_{2}, \dots, Z_{n} \sim N(\mu, \sigma^2)$:
> 
> $$X = Z_{1} \cdot Z_{2} \cdot \dots \cdot Z_{n}$$
> 

# Функции

| Функция                             | Формула                                                                                                        |
| ----------------------------------- | -------------------------------------------------------------------------------------------------------------- |
| Функция плотности вероятности (PDF) | $f(x) = \frac{\exp\left(-\left[\frac{\ln(x) - \mu}{\sigma}\right]^2 / 2\right)}{x \sigma \sqrt{2\pi}}$         |
| Функция распределения (CDF)         | $P(X \leq x) = \frac{1}{2} + \frac{1}{2} \operatorname{erf} \left[\frac{\ln(x) - \mu}{\sigma \sqrt{2}}\right]$ |

# Пример

Производственная компания изготавливает подшипники для промышленного оборудования. На срок службы подшипника влияют несколько независимых факторов: качество обработки поверхности, точность сборки, качество материала и условия эксплуатации. Каждый из этих факторов влияет на общий срок службы мультипликативно. По результатам наблюдений установлено, что срок службы подшипников имеет распределение со средним значением $\mu_{x}$ = 10000 часов и дисперсией $\sigma^2_{x}$ = 1000000. Требуется определить вероятность того, что случайно выбранный подшипник прослужит более 12500 часов.

$X \sim Lognormal(9.21, 0.01) \implies P(X > 12500) = 1 - P(X \leq 12500) = 1 - (\frac{1}{2} + \frac{1}{2} \operatorname{erf} \left[\frac{\ln(12500) - 9.21}{0.01 \cdot  \sqrt{2}}\right]) \approx 0.01$

![[lognormal_sf.png]]

```python
import numpy as np
import scipy.stats as sps

x_0 = 12500

# Параметры распределения логнормальной (относительно экспоненцированной) случайной величины X = exp(Y) ~ Lognormal(mu, sigma^2)
mu_y = 10000
varience_y = 1000000

# Преобразование в параметры распределения нормальной случайной величины Y = ln(X) ~ N(mu, sigma^2)
mu = np.log(mu_y**2 / np.sqrt(varience_y + mu_y**2))
sigma = np.sqrt(np.log(1 + varience_y / np.power(mu_y, 2)))

s = sps.lognorm.sf(x_0, sigma, scale=np.exp(mu))
print(s)
```
